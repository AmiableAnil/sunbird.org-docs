<!DOCTYPE html>
<html>
	<head>
	<base id="baseURL" href="/1.11/" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=10, user-scalable=yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png" sizes="16x16">
<meta name="msapplication-TileColor" content="#65d3f7">
<meta name="msapplication-TileImage" content="/img/favicon/mstile-150x150.png">

<title>Migrate Tenant Pages</title>
<meta name="description" content="How and Why's about migrating the static pages to CDN"/>

<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="last-modified" content="2018-09-06 14:26:50 +0530">
<meta http-equiv="Expires" content="600" />

<!--Build Details-->
<meta name="buildVersion" content="" />
<meta name="buildNo" content="542" />
<meta name="version" id="docsVersion" content="1.11" />
<!--/Build Details-->


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,600,700" >
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css?06092018"  />

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js?06092018"></script>
<script type="text/javascript" src="/js/jquery.tocLight.js?06092018"></script>
<script type="text/javascript" src="/js/jquery.elevateZoom-3.0.8.min.js?06092018"></script>
<script type="text/javascript" src="/js/handlebars-v4.0.11.js?06092018"></script>
<script type="text/javascript" src="/js/widgets-data.js?06092018"></script>
<script type="text/javascript" src="/js/widgets.js?06092018"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106552125-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-106552125-1');
</script>
<script>
function resetBase(){
	currentURLArray = window.location.pathname.split( '/' );
    secondLevelLocation = currentURLArray[1];
    if (secondLevelLocation == 'latest'){
		baseURL = document.getElementById('baseURL');
		baseURL.href="/latest/";
	}
}
resetBase();
</script>

	
		<meta name="robots" content="index, follow">
	
  </head>
  <body id="body" class="doc-layout">
  <div class="container inner container-height docs">
    <header class="logo-container">
      <div class="logo">
        <a href="/index.html">
          <img src="/img/sunbird-logo.png" alt="Sunbird docs" title="Sunbird docs">
        </a>
      </div>
      <button type="button" class="dropdown-toggle collapsed" id="dropdown-trigger" data-toggle="collapse" data-target="#mobile-dropdown" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </header>
    <nav class="sidebar-container" id="mobile-dropdown">
      <div class="inner__sidebar">
        
<div id="">
 <div class="search-cover">
	<form method="get" action="https://www.google.com/search" target="_blank">
		<input type="text" value="" name="q" placeholder="Search"/ class="search-input" title="Enter keyword to search">
		<input type="hidden" value="en" name="hl" />
		<input type="hidden" name="sitesearch" value="http://docs.sunbird.org" />
		<input type="hidden" value="lang_en" name="lr" />
		<button type="submit" onclick="submit()" class="search-btn" title="Search">
			<i class="fa fa-search"></i>
		</button>
	</form>
</div>
 
<div id="widgetVersionSwitcher"></div>
<div class="sidebar-wrapper developer-docs"> 


	
		
		
		<!-- Section Start-->
		
		
		<div class="section  section-architecture path- ">
			<a href="/docs//architecture/" >
				<h4 class="sidebar-group-title">Architecture</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//architecture/overview/" >
								Overview
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//architecture/design/" >
								Design
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//architecture/views/elementryview/" >
									Views
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//architecture/views/logical/" >
											Logical View
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//architecture/views/physical/" >
											Physical View
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//architecture/views/conceptual/" >
											Conceptual View
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//architecture/views/deployment/" >
											Deployment View
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//architecture/usecase/" >
								Use Cases
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-features-documentation path- ">
			<a href="/docs//features-documentation/" >
				<h4 class="sidebar-group-title">Product Features</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//features-documentation/login/" >
								Login
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/register_org/" >
								Register Organizations
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/register_user/" >
								Register Users
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//features-documentation/userrolepermission/" >
									User Roles and Permissions
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//features-documentation/user_type/" >
											Types of Users
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/userprofile/" >
											User Profile
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/workspace/" >
											Workspace
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/admindashboard/" >
								Administrator Dashboard
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/lessonplan/" >
								Lesson Plan
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/book_creation/" >
								Book
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/collection_creation/" >
								Collection
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//features-documentation/course_intro/" >
									Courses
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//features-documentation/course_creation/" >
											Course Creation
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/course_batches/" >
											Batch Creation
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/course_consumption/" >
											Course Consumption
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//features-documentation/badging_framework/badging_overview/" >
									Badging Framework
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//features-documentation/badging_framework/creating_badges/" >
											Creating Badges
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/badging_framework/badges_users/" >
											Issuing Badges to Users
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//features-documentation/badging_framework/content_badges/" >
											Issuing Badges for Content
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/announcement/" >
								Announcement
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/library/" >
								Library
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/contentlifecycle/" >
								Content Lifecycle
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/contenteditor/" >
								Content Editor
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//features-documentation/guidelines/" >
									Guidelines
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//features-documentation/intellectualproperty/" >
											Intellectual Property
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/collaborationpartnership/" >
								Collaboration and Partnership
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//features-documentation/mobileapp/allappfeatures/" >
								Mobile App Features
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-usertaskflow path- ">
			<a href="/docs//usertaskflow/" >
				<h4 class="sidebar-group-title">User Task Flows</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_content/" >
								How do I Create Content
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_video/" >
								How do I Add a Video
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_text/" >
								How do I Add Text
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_audio/" >
								How do I Add Audio
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_hotspot/" >
								How do I Add a Hotspot
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_image/" >
								How do I Add an Image
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_shape/" >
								How do I Add Shapes
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_scribblepad/" >
								How do I Add the Scribblepad
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_activity/" >
								How do I Add an Activity
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_course/" >
								How do I Create a Course
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_book/" >
								How do I Create a Book
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_book_with_dial_code/" >
								How do I Add DIAL Codes to a Book
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_lessonplan/" >
								How do I Create a Lesson Plan
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_create_collection/" >
								How do I Create a Collection
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/reviewer_taskflow/" >
								How do I Review Content
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_uploadcontent/" >
								How do I Upload Content
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_delete_content/" >
								How do I Delete Content
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_metadata/" >
								How do I Add Metadata
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/how_do_i_add_resource/" >
								How do I Add Resource
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//usertaskflow/limited_sharing/" >
								How do I Share Content to a Limited Group
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-developer-docs path- ">
			<a href="/docs//developer-docs/" >
				<h4 class="sidebar-group-title">Developer Documentation</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//developer-docs/getting_started/" >
								Getting Started with Sunbird
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//developer-docs/installation/" >
									Installation
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//developer-docs/installation/installing_sunbirdon_machine/" >
											Developer Installation
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/installation/medium_scale_deploy/" >
											Server Installation
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/installation/install_mobile_setup/" >
											Mobile App Installation
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/upgrading/" >
											Upgrading Sunbird
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//developer-docs/onboarding/" >
									Onboarding
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//developer-docs/singlesignon/overview_sso/" >
											Onboarding via Single Sign On
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/configuring_announcement/" >
											Configuring for Announcements
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//developer-docs/telemetry/overview/" >
									Telemetry
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//developer-docs/telemetry/specification/" >
											Telemetry Specifications
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/telemetry/sending_telemetry/" >
											Sending Telemetry
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//developer-docs/library_reference/" >
									Library References
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//developer-docs/telemetry/jslibrary/" >
											Standalone JS Library
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/telemetry/htmlinterfacelibrary/" >
											HTML Interface Library
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//developer-docs/telemetry/authtokengenerator_jslibrary/" >
											AuthToken Generator JS Library
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//developer-docs/troubleshooting/" >
								Troubleshooting
							</a>
						
					</li>
				
					<li>
								
						
							<div class="">
								
								<a href="/docs//extensible-framework/" >
									Extensible Framework
								</a>
								<ul class="sidebar-group">
									
									<li>
										
										<a  href="/docs//extensible-framework/content-editor/framework/" target="_blank">
											Content Editor Framework
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//extensible-framework/content-editor/plugins/" target="_blank">
											Content Editor Plugin
										</a>
									</li>
									
									<li>
										
										<a  href="/docs//extensible-framework/content-renderer/" target="_blank">
											Content Renderer
										</a>
									</li>
									
								</ul>
							</div>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-apis path- ">
			<a href="/docs//apis/" >
				<h4 class="sidebar-group-title">API Reference Documentation</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//apis/#feature" >
								Feature
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//apis/#admin-apis" >
								Administration
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//apis/#setup-apis" >
								Setup
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//apis/#data-apis" >
								Data
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section active section- path- ">
			<a href="/docs/contributions/" >
				<h4 class="sidebar-group-title">Contribute to Sunbird</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs/contributions/filing_a_bug" >
								Guidelines for Filing a Bug
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs/contributions/contribution_guidelines" >
								Contributing to Sunbird Documentation
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-faqs path- ">
			<a href="/docs//faqs/" >
				<h4 class="sidebar-group-title">Frequently asked questions</h4>
			</a>
			
				<ul class="sidebar-group">
				
					<li>
								
						
							
							<a href="/docs//faqs/audience/" >
								Audience
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/content_format/" >
								Content Format
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/content_repo/" >
								Content Repositories
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/contentreviews/" >
								Content Review
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/content_types/" >
								Content Types
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/content_upload/" >
								Content Upload
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/feature/" >
								Features
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/fixerrors/" >
								Fix Errors
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/helpsupport/" >
								Help Support
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/intellectual_propertylicensesstandards/" >
								Intellectual Property Licenses Standards
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/registrationenrolment/" >
								Registration and Enrollment
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/signin/" >
								Sign In
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/taxonomymetadataframework/" >
								Taxonomy Meta Data Framework
							</a>
						
					</li>
				
					<li>
								
						
							
							<a href="/docs//faqs/user_rightspermissions/" >
								Users Rights and Permission
							</a>
						
					</li>
				
				</ul>
				
		</div>
		<!-- Section End-->
	
		<!-- Section Start-->
		
		
		<div class="section  section-glossary path- ">
			<a href="/docs//glossary/" >
				<h4 class="sidebar-group-title">Glossary</h4>
			</a>
			
		</div>
		<!-- Section End-->
	
		
	
	<!-- Contribution Sidebar-->
</div>
<script>
	$("a[href$='/developer-docs/installation/static_pages_to_cdn/']").addClass("sidebar-link-selected");
</script>
</div>
</div>

      </div>
    </nav>
    <div class="content">
      <div class="inner__content header" id="heading">
        <h1>Migrate Tenant Pages </h1>
      </div>

      <div id="main-content" class="inner__content">
			<p class="edit-para text-right">
				<span>
			<a target="_blank" class="contribute" href="/contributions/contribution_guidelines/">
				  <i class="fa fa-book" aria-hidden="true"></i> <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;
			  
			 <a target="_blank"  title="Edit this page"class="" href="https://github.com/project-sunbird/sunbird.org-docs/edit/1.11/developer-docs/installation/static_pages_to_cdn.md">
				  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit
			  </a> 
			  | 
			  <a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/issues" title="Report issue">
				  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
				  Report
			  </a>
			  </span>
			</p>
			<div class="widgetLatestVersionNotification"></div>
          <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
            <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#overview"><span class="tocnumber">1 .</span> <span class="toctext">Overview</span></a>
              <ul>
                <li class="toc_level-2 toc_section-2">
                  <a href="#prerequisites"><span class="tocnumber">1.1 .</span> <span class="toctext">Prerequisites</span></a>
                </li>
                <li class="toc_level-2 toc_section-3">
                  <a href="#migrating-static-pages-to-cdn"><span class="tocnumber">1.2 .</span> <span class="toctext">Migrating Static pages to CDN</span></a>
                </li>
                <li class="toc_level-2 toc_section-4">
                  <a href="#enabling-cdn-in-player-service"><span class="tocnumber">1.3 .</span> <span class="toctext">Enabling CDN in Player Service</span></a>
                </li>
                <li class="toc_level-2 toc_section-5">
                  <a href="#cache-busting"><span class="tocnumber">1.4 .</span> <span class="toctext">Cache Busting</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h2 id="overview">Overview</h2>

<p>To increase the performance of loading tenant pages and at the same time decrease the load on the player service, tenant pages must be served from a Content Distribution Network (CDN). This document details the procedure on how to push the tenant pages to CDN Store within the specified container.</p>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
  <li>Install Node Version 8.11.2
For details on downloading node refer <a href="https://nodejs.org/en/download/">official Node.js</a></li>
  <li>Install Node Package Manager (NPM)</li>
  <li>Install Git</li>
  <li>Install Gulp globally</li>
</ul>
<pre> npm install gulp -g </pre>
<ul>
  <li>Ensure that the tenant folder with all the required sub-folders is present in the application folder</li>
  <li>Ensure you have a CDN service provider account credential i.e., account name and access key. This account is used to store all the tenant pages in single blob container.</li>
</ul>

<h3 id="migrating-static-pages-to-cdn">Migrating Static pages to CDN</h3>

<p><br />1. Clone the sunbird portal source code by executing the command given in console:</p>
<pre> git clone https://github.com/project-sunbird/sunbird-portal.git </pre>

<p><br />2. Run the command <code>cd</code> to the cloned sunbird-portal source code and switch to branch <code>release-1.9</code> by executing the command given in console:</p>
<pre> git checkout release-1.9 </pre>

<p><br />3. Run the command <code>cd src/app</code> followed by the following command in console to install the dependencies</p>
<pre> npm install </pre>

<p><br />4. After ensuring that tenant folder exists inside <code>src/app</code> (for those files that have to be moved to cdn) run the following gulp script at the level <code>gulp-tenant.js</code> file exists i.e., inside <code>(src/app/)</code>folder from the console. This command versions the files and pushes it to CDN</p>
<pre>
gulp pushTenantsToCDN --gulpfile gulp-tenant.js --accountName="" --accessKey="" --provider="" --cdnurl="" --tenant="" --tenantpath="" --containerName=""
</pre>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
      <th>Sample Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>accountName</code></td>
      <td>Optional</td>
      <td>account name of the service provider</td>
      <td>azure</td>
    </tr>
    <tr>
      <td><code>accessKey</code></td>
      <td>Optional</td>
      <td>access key of azure</td>
      <td> </td>
    </tr>
    <tr>
      <td><code>provider</code></td>
      <td>Optional</td>
      <td>cdn service provider</td>
      <td>Currently, only Azure is supported</td>
    </tr>
    <tr>
      <td><code>cdnurl</code></td>
      <td>Mandatory</td>
      <td>cdn service provider link</td>
      <td> </td>
    </tr>
    <tr>
      <td><code>tenant</code></td>
      <td>Optional</td>
      <td>names of subfolders that have to be pushed to CDN. The names must be comma separated</td>
      <td> </td>
    </tr>
    <tr>
      <td><code>tenantpath</code></td>
      <td>Optional</td>
      <td>path of the tenant folder where the tenant files are expected to be present</td>
      <td>defaults to absolute path</td>
    </tr>
    <tr>
      <td><code>containerName</code></td>
      <td>Optional</td>
      <td>blob container name in CDN service provider</td>
      <td>defaults to ‘tenants’</td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> <br />1. If accountName or accessKey is not provided in the arguments then the tenant files are not pushed to CDN, however versioning of files is done and the saved in the folder <code>tenants-build</code> at the same path where <code>gulp-tenant.js</code> is present
<br />2. For the parameter <code>tenantpath</code> tenant folder is expected at the same path where <code>tenant-gulp.js</code> file present, and if tenant folder path is different and not at the path of <code>tenant-gulp.js</code> then the respective path must be given
<br />3. For the parameter <code>tenant</code>, by default, all the folders present inside the tenant (source) folder will be processed, and can be overridden by specifying the particular folder names which have to be processed by comma seperated values.Eg: <code>&lt;tenant1&gt;,&lt;tenant2&gt;,&lt;tenant3&gt;</code> <br />4. On completing the script the following message is displayed:
<code>Success! - All files processing done and pushed to CDN Provider</code>
<br />5. If the tenant folder is already present in CDN service provider container then this script replaces the existing folder with the latest one.</p>

<h3 id="enabling-cdn-in-player-service">Enabling CDN in Player Service</h3>

<p>To enable the CDN in the player service:</p>

<p><br />1. Set the following environment variable in player service. The <code>contianerName</code> for the variable should be the one which is provided during the script execution</p>
<pre> sunbird_tenant_cdn_url="&lt;baseurl&gt;/&lt;containerName&gt;" </pre>

<p><br /><strong>Note:</strong> <br />1: If the environment variable is not set in the player service then by default all the tenant pages are serverd from the player service tenant folder
<br />2. If any of the mandatory args are missing on the script execution command then the script is terminated and respective error is displyed in the console
<br />3. This script does not perform any minifications or optimizations, so for optimized loading of tenant files it is mandatory to remove all the assets and files that are not in use</p>

<h3 id="cache-busting">Cache Busting</h3>
<p>When the script is executed for pushing tenant pages to CDN, all the files excluding index.html are versioned before pushing the files to cdn inorder to avoid loading of outdated code which will be stored in browser cache. Versioning means random string at the end of your resource will be appended and this keeps updating every time that resource is updated during the script execution.</p>


          
          <hr />
          
          <p class="edit-para text-right">
			<a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/edit/1.11/developer-docs/installation/static_pages_to_cdn.md" title="Fix this page">
				<i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a> |
			<a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/issues" title="Report issue">
				<i class="fa fa-exclamation-circle" aria-hidden="true"></i> Report</a>
		  </p>
		  <a href="developer-docs/installation/static_pages_to_cdn/#heading" class="scrollup"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></a>
          
      </div>
    </div>
    <div class="page-footer">
		<footer class="footer">
	<div class="footer__top">
		<div class="container">
			<div class="row">
				
			<div class="col-md-4 col-sm-12">
			</div>
			
			<div class="col-md-2 col-sm-6 ">
				<ul>
					<li><a href="http://www.sunbird.org/about/" target="_blank">About Sunbird</a></li>
					<li><a href="http://www.sunbird.org/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div>
			
			<div class="col-md-2 col-sm-6 sideline">
				<ul>
					<li><a href="http://www.sunbird.org/privacy-policy/" target="_blank">Privacy Policy</a></li>
					<li><a href="http://www.sunbird.org/features/" target="_blank">Features</a></li>
				</ul>
			</div>

			<div class="col-md-2 col-sm-12">
			</div>
			
		</div>
	</div>
</footer>
 

	</div>
  </div>
  <script type="text/javascript">
	//TOC Toggle
    $(function() {
        $.toc.clickHideButton();
    });
    //Scroll to top
    $(document).ready(function () {
		$(".content").scroll(function () {
			if ($(this).scrollTop() > 250) {
				$('.scrollup').fadeIn();
			} else {
				$('.scrollup').fadeOut();
			}
		});
	});
	$('#toc a').each(function(){
		var url = this.href.replace(baseURL.href, "");
		this.href = 'developer-docs/installation/static_pages_to_cdn/' + url;
    })
	$(".zoomcover").click(function(){
		if (!$(this).hasClass("fullscreen")){
			$(this).addClass("fullscreen");
			$(this).find(".zoom").addClass("enabled").elevateZoom({
				zoomType: "inner",
				cursor  : "crosshair",
				scrollZoom: "true"
			});
		} else {
			$(this).removeClass("fullscreen");
			$(this).find(".zoom").removeClass("enabled");
			$(".zoomContainer").hide();
		}
	});
	$(document).keyup(function(e) {
     if (e.keyCode == 27) { 
		$(".zoomcover").removeClass("fullscreen");
		$(".zoomcover").find(".zoom").removeClass("enabled");
		$(".zoomContainer").hide();
    }
});
  </script>
  <style>
  .zoom:hover{
	cursor:url(/img/zoom.png),crosshair;
  }
  .zoomWindowContainer:hover div{
	cursor:url(/img/scroll.png),crosshair !important;
	height:15px;
	width:15px;
  }
  </style>
  <div id="templates"></div>
  </body>
</html>
