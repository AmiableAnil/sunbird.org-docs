<h2 id="overview">Overview</h2>

<p>Sunbird has the provision to register and provide user credentials (user ID and password) to organizations, such as states, NGO, corporates and other institutes or organizations.</p>

<p>The organizations take a policy decision to allow or disallow registering single individual users. Contact your organization administrator for details.</p>

<h3 id="onboarding-new-api-consumer">Onboarding New API Consumer</h3>

<p>1.Open <code>sunbird-devops/ansible/roles/kong-consumer/defaults/main.yml</code></p>

<p>2.Add a new object in kong_consumers variable.</p>

<p><strong>Example</strong>
-  username: api-management-test #change this according to API consumer
   groups: “”  # or array of groups needed for API consumer
   state: present</p>

<p>3.For the term <code>groups</code> in the above example, use the list of whitelisted groups from the following table to decide API consumer access:</p>

<table>
  <thead>
    <tr>
      <th>Mobile Administrator Group</th>
      <th>Mobile App Group</th>
      <th>Mobile Device Group</th>
      <th>Integration Partner Groups</th>
      <th>Implementation User Groups</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Mobile Administrator</td>
      <td>Mobile App</td>
      <td>Content User</td>
      <td>Echo User</td>
      <td>Content Administrator</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>Course User</td>
      <td>Org Administrator</td>
      <td>Content User</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>App Administrator</td>
      <td>Org User</td>
      <td>User Adminidtrator</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>Config User</td>
      <td>User Administrator</td>
      <td>Public User</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>Public User</td>
      <td>Public User</td>
      <td>Org Administrator</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>User Administrator</td>
      <td>Data Admin</td>
      <td>Org User</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>Content Administrator</td>
      <td>Domain User</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>DIAL Code Administrator</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>App Administrator</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>4.Run <code>sudo ./sunbird-install.sh -s apis</code></p>

<p><strong>Note:</strong> The <strong>jwt_token.txt</strong> file is in the location home directory of the administration server. This file contains the jwt tokens for all the services.</p>

<h3 id="recreating-jwt-tokens">Recreating JWT Tokens</h3>

<p>If you forget or lose the JWT token, you can retrieve it from the <strong>jwt_token.txt</strong> file that is in the home directory of the adminstration server.</p>

<h3 id="removing-api-consumer-from-sunbird">Removing API Consumer from Sunbird</h3>

<p>1.Open sunbird-devops/ansible/roles/kong-consumer/defaults/main.yml
2.Search for the user in the kong_consumers array
3.Change the state to absent.</p>

<p><strong>Example</strong>
 - username: <consumer-to-be-removed>
    	   state: absent</consumer-to-be-removed></p>

<p>4.Run <code>sudo ./sunbird-install.sh -s apis</code></p>

